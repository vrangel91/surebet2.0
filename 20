                                           Table "public.users"
       Column       |           Type           | Collation | Nullable |              Default              
--------------------+--------------------------+-----------+----------+-----------------------------------
 id                 | integer                  |           | not null | nextval('users_id_seq'::regclass)
 username           | character varying(255)   |           |          | 
 first_name         | character varying(255)   |           |          | 
 last_name          | character varying(255)   |           |          | 
 email              | character varying(255)   |           | not null | 
 password_hash      | character varying(255)   |           | not null | 
 cpf                | character varying(14)    |           |          | 
 phone              | character varying(20)    |           |          | 
 is_admin           | boolean                  |           |          | false
 is_vip             | boolean                  |           |          | false
 vip_expires_at     | timestamp with time zone |           |          | 
 account_type       | character varying(255)   |           | not null | 'basic'::character varying
 last_login         | timestamp with time zone |           |          | 
 referral_code      | character varying(8)     |           |          | 
 referred_by        | integer                  |           |          | 
 commission_balance | numeric(10,2)            |           | not null | 0
 status             | character varying(255)   |           | not null | 'active'::character varying
 created_at         | timestamp with time zone |           | not null | 
 updated_at         | timestamp with time zone |           | not null | 
Indexes:
    "users_pkey" PRIMARY KEY, btree (id)
    "users_email_key" UNIQUE CONSTRAINT, btree (email)
    "users_referral_code_key" UNIQUE CONSTRAINT, btree (referral_code)
    "users_username_key" UNIQUE CONSTRAINT, btree (username)
Foreign-key constraints:
    "users_referred_by_fkey" FOREIGN KEY (referred_by) REFERENCES users(id)
Referenced by:
    TABLE "bookmaker_accounts" CONSTRAINT "bookmaker_accounts_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON UPDATE CASCADE ON DELETE CASCADE
    TABLE "notifications" CONSTRAINT "notifications_created_by_fkey" FOREIGN KEY (created_by) REFERENCES users(id) ON UPDATE CASCADE ON DELETE CASCADE
    TABLE "orders" CONSTRAINT "orders_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON UPDATE CASCADE ON DELETE CASCADE
    TABLE "surebet_analytics" CONSTRAINT "surebet_analytics_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id)
    TABLE "surebet_stats" CONSTRAINT "surebet_stats_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id)
    TABLE "ticket_messages" CONSTRAINT "ticket_messages_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON UPDATE CASCADE
    TABLE "tickets" CONSTRAINT "tickets_assigned_to_fkey" FOREIGN KEY (assigned_to) REFERENCES users(id)
    TABLE "tickets" CONSTRAINT "tickets_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON UPDATE CASCADE ON DELETE CASCADE
    TABLE "transaction_history" CONSTRAINT "transaction_history_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON UPDATE CASCADE ON DELETE CASCADE
    TABLE "user_sessions" CONSTRAINT "user_sessions_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON UPDATE CASCADE ON DELETE SET NULL
    TABLE "user_vip" CONSTRAINT "user_vip_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON UPDATE CASCADE ON DELETE CASCADE
    TABLE "users" CONSTRAINT "users_referred_by_fkey" FOREIGN KEY (referred_by) REFERENCES users(id)

